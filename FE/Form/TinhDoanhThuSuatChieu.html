<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="form-styles.css">

  <!-- Đây là file xử lý API -->
  <script src="../../BE/fc.js"></script>

  <title>Tính Doanh Thu</title>
</head>
<body>

  <!-- Nút quay lại -->
  <button class="back-button" onclick="window.location.href='../index.html'">Quay lại</button>

  <!-- Logo -->
  <div class="logo-container">
    <img src="../cgvlogo.png" alt="Logo" />
  </div>

  <!-- Khung nội dung -->
  <div class="container">
    <h1>Tính Doanh Thu Rạp</h1>

    <div id="form-container">

      <div class="form-group">
        <label for="ngayBatDau">Ngày bắt đầu:</label>
        <input type="date" id="ngayBatDau">
      </div>

      <div class="form-group">
        <label for="ngayKetThuc">Ngày kết thúc:</label>
        <input type="date" id="ngayKetThuc">
      </div>

      <div class="form-group" style="flex: 0 0 auto;">
        <!-- NÚT ĐÃ SỬA ĐÚNG -->
        <button onclick="callFunction(getTinhDoanhThuTheoNgay, 'True')">
          Tính doanh thu rạp
        </button>
      </div>

    </div>

    <!-- Output hiển thị kết quả -->
    <div id="output"></div>

  </div>

  <!-- SCRIPT ĐÃ THÊM ĐỂ GỌI FUNCTION -->
  <script>
    function getTinhDoanhThuTheoNgay() {
        const start = document.getElementById("ngayBatDau").value;
        const end = document.getElementById("ngayKetThuc").value;

        return {
            proc: "ThongKeDoanhThuVeCuaRap",  // tên hàm SQL Function của bạn
            params: [start, end]
        };
    }
  </script>

</body>
</html>
